<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Ray Tracing Exercises: Ray Tracing Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ray Tracing Exercises
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_ray.html" title="This class implements a ray, specified by its origin and direction. It provides a convenient function...">Ray</a> Tracing Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Welcome to the first exercise for the lecture Introduction to Computer Graphics. In this exercise we will implement a cool ray tracer.</p>
<h2>How to compile the code</h2>
<p>You should build the project using CMake (www.cmake.org). CMake is a meta build system that will generate project files for the development environment of your preference. For instance, on Linux/Mac it can generate Makefiles, on Windows it generates Visual Studio projects, and on Mac it can generate Xcode projects. CMake can also generate Eclipse projects, but we have never tested it.</p>
<p>The CMake documentation is available online at: </p>
<ul>
<li><a href="http://www.cmake.org/cmake/help/documentation.html">http://www.cmake.org/cmake/help/documentation.html</a></li>
</ul>
<p>You can also have a look at the quick reference pages to learn how to install and run CMake: </p>
<ul>
<li><a href="http://www.cmake.org/cmake/help/install.html">http://www.cmake.org/cmake/help/install.html</a> </li>
<li><a href="http://www.cmake.org/cmake/help/runningcmake.html">http://www.cmake.org/cmake/help/runningcmake.html</a></li>
</ul>
<p>For example, on Linux you can type: </p>
<div class="fragment"><div class="line">1) cd &lt;your RayTracing folder&gt;</div>
<div class="line">2) mkdir build</div>
<div class="line">3) cd build</div>
<div class="line">4) cmake ..</div>
<div class="line">5) make</div>
</div><!-- fragment --><p>On MacOS the commands are: </p>
<div class="fragment"><div class="line">1) cd &lt;your RayTracing folder&gt;</div>
<div class="line">2) mkdir xcode</div>
<div class="line">3) cd xcode</div>
<div class="line">4) cmake -G Xcode ..</div>
<div class="line">5) open RayTracing.xcodeproj</div>
</div><!-- fragment --><p>And finally on Windows (Visual Studio): </p>
<div class="fragment"><div class="line">1) Start the CMake-GUI</div>
<div class="line">2) Open the RayTracing toplevel directory as source directory</div>
<div class="line">3) Choose/create a build directory</div>
<div class="line">4) Click on <span class="stringliteral">&quot;Configure&quot;</span> and select Visual Studio 11 or higher as generator</div>
<div class="line">5) Click on <span class="stringliteral">&quot;Generate&quot;</span> to create the Visual Studio project files</div>
<div class="line">6) Open the Visual Studio solution file that is in the build directory you set before</div>
</div><!-- fragment --><p>Since we are using some (cool!) C++11 features, please be aware to use an up-to-date compiler (GCC 4.7 or higher, Visual Studio 2012).</p>
<h2>How to run the ray tracer</h2>
<p>If everything worked out, you can call the resulting program from the command line. The program expects two command line arguments: an input scene (*.sce) and an output image image name(*.tga). In order to render the scene with the three spheres you type: </p>
<div class="fragment"><div class="line">./raytrace ../scenes/spheres.sce output.tga</div>
</div><!-- fragment --><p> If you use MSVC or Xcode, you can also define command line arguments within the software packages. This way you will be able to start the raytracter directly. Note that we provide the solution's images so that you know how the result should look like. If no software on your current OS support TGA images, consider to install an alternative image viewer (e.g. IrfanView)</p>
<h2>Code Overview</h2>
<div class="image">
<img src="UML_Ray_Tracer.png" alt="UML_Ray_Tracer.png"/>
</div>
<p> For an overview, we have created a simplified UML class diagram of the raytracer. If you prefer to start directly by reading code, we recomment to start with the file <a class="el" href="raytrace_8cpp.html" title="In this file the main raytracing routines are implemented. ">raytrace.cpp</a>. You will notice that it is divided into 3 parts (<a class="el" href="raytrace_8cpp.html#a961b01959772cb88fb641b4d05f5b3fd" title="reads the scene to raytrace from the given filename (_filename) ">read_scene()</a>, <a class="el" href="raytrace_8cpp.html#ab1d1ac9ba4ad1639618cfd7613fee95f" title="main function where the image is allocated and the raytracing is started ">compute_image()</a> and <a class="el" href="raytrace_8cpp.html#a2a0b436f99ea428a9e4201f984ea7a48" title="writes the resulting image in tga format to a given filename (_filename) ">write_image()</a>). The function <a class="el" href="raytrace_8cpp.html#ab1d1ac9ba4ad1639618cfd7613fee95f" title="main function where the image is allocated and the raytracing is started ">compute_image()</a> is the starting point for the raytracer. For a more detailed overview see also <a href="annotated.html">Classes</a>.</p>
<h2>Recommended order for the exercises</h2>
<p>We recommend that you follow this order for the individual sub-tasks, which are also listed in more detail in the <a href="todo.html">ToDo list</a>.</p>
<ol>
<li>
<h4>Phong Lighting and Reflections</h4>
<p>Start implementing the Phong shading model for the simple sphere scene. Your starting point will be the <a class="el" href="raytrace_8cpp.html#a5e60c6656e2842b3fb847ce7d0ed3d1c" title="computes the phong lighting ">lighting()</a> function in <a class="el" href="raytrace_8cpp.html" title="In this file the main raytracing routines are implemented. ">raytrace.cpp</a>. Once you have finished the Phong lighting and get realistic illumination, continue with the reflections, which have to be added to <a class="el" href="raytrace_8cpp.html#aed1edbb079a95ff44c4dbd3f4389c755" title="finds the closest collision point for the passed Ray and returns the computed color for this object...">trace()</a> in <a class="el" href="raytrace_8cpp.html" title="In this file the main raytracing routines are implemented. ">raytrace.cpp</a>. Finally, implement the ray-plane intersections in <a class="el" href="class_plane.html#ac766ee14b9da56e2d7deb83d37b21cf6" title="Compute the intersection of the plane with _ray. Return whether there is an intersection. If there is one, return the intersection data. This function overrides Object::intersect(). ">Plane::intersect()</a> in Plane.cpp. Now your rendered result should be identical to the reference image of the sphere scene. Try as well the molecule scenes! </p>
<p class="endli"></p>
</li>
<li>
<h4>Triangle Meshes</h4>
<p>The next step is the ray-triangle intersection (<a class="el" href="class_mesh.html#a9be7264791ff3de7dbf99f8548fb7725" title="Intersect a triangle with a ray. Return whether there is an intersection. If there is an intersection...">Mesh::intersect_triangle()</a> in Mesh.cpp). Start testing with the simple cube scene with flat shading. Then try the office scene or the funny toon faces. </p>
<p class="endli"></p>
</li>
<li>
<h4>Acceleration</h4>
<p>Are you bored because the computation takes too long? Then let's make it faster! First implement the bounding box test for triangle meshes (<a class="el" href="class_mesh.html#a5839749bb09a6bf09c56056016cc11b2" title="Does _ray intersect the bounding box of the mesh? ">Mesh::intersect_bounding_box()</a> in Mesh.cpp). With this feature you should see a significant performance boost in the toon_faces scene. Also try using OpenMP, so that the ray tracer benefits from all the cores your PC has. Simply uncomment the (single) OpenMP line in <a class="el" href="raytrace_8cpp.html#ab1d1ac9ba4ad1639618cfd7613fee95f" title="main function where the image is allocated and the raytracing is started ">compute_image()</a> in <a class="el" href="raytrace_8cpp.html" title="In this file the main raytracing routines are implemented. ">raytrace.cpp</a>. </p>
<p class="endli"></p>
</li>
<li>
<h4>Optional features</h4>
<p>Do you still want to explore more features? Then why not try multi-sampling in order to reduce the aliasing problems? Simply adjust the function <a class="el" href="raytrace_8cpp.html#ab1d1ac9ba4ad1639618cfd7613fee95f" title="main function where the image is allocated and the raytracing is started ">compute_image()</a>, such that you shoot several rays for each pixel and average their resulting colors. </p>
<p class="endli"></p>
</li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 28 2014 18:25:36 for Ray Tracing Exercises by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
